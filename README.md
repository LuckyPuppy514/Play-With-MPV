# Play-With-MPV

![20230414193858](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-04-14/20230414193858.gif)

## ğŸŒŸ ç®€ä»‹

ä½¿ç”¨ mpv æ’­æ”¾ç½‘é¡µä¸­çš„è§†é¢‘ï¼Œå¹¶æ”¯æŒ potplayer åŠè‡ªå®šä¹‰æ’­æ”¾å™¨

- æ”¯æŒæ’­æ”¾å™¨ï¼šmpvï¼Œ`mpv.net`ï¼Œpotplayerï¼Œvlcï¼Œiina ......
- æ”¯æŒæµè§ˆå™¨ï¼šEdgeï¼ŒChromeï¼ŒFirefoxï¼Œ[æŸ¥çœ‹æ›´å¤š ğŸ‘†](https://www.tampermonkey.net/index.php)
- æ”¯æŒçš„ç½‘ç«™ï¼š[Bilibili](https://www.bilibli.com)ï¼Œ[YouTube](https://www.youtube.com)ï¼Œ[å·´å“ˆå§†ç‰¹](https://ani.gamer.com.tw)ï¼Œ[ä½ç«¯å½±è§†](https://ddys.art)ï¼Œ[æŸ¥çœ‹æ›´å¤š ğŸ‘†](https://www.lckp.top/play-with-mpv/index.html)

[![20230414194209](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-04-14/20230414194209.webp)](https://www.lckp.top/play-with-mpv/index.html)

## ğŸ³ å®‰è£…

### 1. ğŸ’¡ å®‰è£…æ’­æ”¾å™¨

- [mpv.net_CM](https://kutt.lckp.top/uVaT3U)

> ä¹Ÿå¯è‡ªè¡Œå®‰è£…å…¶ä»–æ’­æ”¾å™¨ï¼Œå¦‚ potplayer / vlc ç­‰ï¼Œä½†æŸäº›åŠŸèƒ½å¯èƒ½æ— æ³•ä½¿ç”¨ ğŸ”¥

### 2. ğŸµ å®‰è£…æ²¹çŒ´æ’ä»¶

- [Tampermonkey](https://www.tampermonkey.net/index.php)

### 3. ğŸ“º å®‰è£…æ²¹çŒ´è„šæœ¬

- [Play-With-MPV](https://greasyfork.org/zh-CN/scripts/444056-play-with-mpv)

### 4. âš™ï¸ è„šæœ¬è®¾ç½®

æ‰“å¼€ä¸€ä¸ªæ”¯æŒçš„ç½‘é¡µï¼Œæ¯”å¦‚ï¼š[æ‰“å·¥å§ï¼é­”ç‹å¤§äºº ç¬¬äºŒå­£](https://www.bilibili.com/bangumi/play/ep674708)  

#### 4.1. mpv

è¾“å…¥è½¯ä»¶è·¯å¾„ï¼Œä¿å­˜è®¾ç½®åï¼Œä¸‹è½½æ³¨å†Œè¡¨åˆ°æœ¬åœ°å¹¶æ‰“å¼€ (æˆ–é‡‡ç”¨æœ¬åœ°æœåŠ¡ç«¯è¿›è¡Œé€šä¿¡)

![20230225005437](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-02-25/20230225005437.webp)

#### 4.2. potplayer

è¾“å…¥è½¯ä»¶è·¯å¾„ï¼Œä¿å­˜è®¾ç½®åï¼Œä¸‹è½½æ³¨å†Œè¡¨åˆ°æœ¬åœ°å¹¶æ‰“å¼€

![20230225005446](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-02-25/20230225005446.webp)

#### 4.3. è‡ªå®šä¹‰

éœ€è¦è‡ªè¡ŒæŸ¥æ‰¾ç›¸å…³æ–‡æ¡£ï¼Œæ‰¾åˆ°æ’­æ”¾å™¨å¯¹åº”çš„ URL è°ƒç”¨å‘½ä»¤å’Œå‚æ•°

![20230225005456](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-02-25/20230225005456.webp)

ä¾‹å¦‚ï¼Œiina å¯¹åº”çš„è§†é¢‘å‚æ•°ä¸ºï¼šiina://weblink?url=${EvideoUrl}

![20230225005505](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-02-25/20230225005505.webp)

| å‚æ•°åç§° | å‚æ•°å–å€¼ | è¯´æ˜ |
|:---:|:---:|:---:|
| è§†é¢‘é“¾æ¥ | ${videoUrl} | yt-dlp/m3u8/flv/mp4/mkv ... æ’­æ”¾å™¨ä¸æ”¯æŒåˆ™æ— æ³•æ’­æ”¾ |
| éŸ³é¢‘é“¾æ¥ | ${audioUrl} | ä¸ºç©ºåˆ™ä¸æ”¯æŒæœ€é«˜ç”»è´¨å’Œè§†é¢‘ç¼–ç  |
| å­—å¹•é“¾æ¥ | ${subtitleUrl} | ä¸ºç©ºåˆ™æ— æ³•åŠ è½½Bç«™å¤–æŒ‚å­—å¹• |
| æ ‡é¢˜ | ${title} | ä¸ºç©ºåˆ™æ— æ³•ä¼ é€’æ ‡é¢˜ |
| å¼€å§‹æ—¶é—´ | ${startTime} | ä¸ºç©ºåˆ™ä¸æ”¯æŒåŒæ­¥æ—¶é—´ |
| ä»£ç†åœ°å€ | ${proxy} | ä¸ºç©ºåˆ™ä¸æ”¯æŒä»£ç†è®¾ç½® |
| referer | ${referer} | ä¸ºç©ºåˆ™æ— æ³•è§‚çœ‹Bç«™å’Œæ©˜å­åŠ¨æ¼« |
| origin | ${origin} | ä¸ºç©ºåˆ™æ— æ³•è§‚çœ‹å·´å“ˆå§†ç‰¹ |

å¦‚éœ€å¯¹å‚æ•°å–å€¼è¿›è¡Œ URL ç¼–è§£ç ï¼Œåªéœ€åœ¨å‚æ•°å‰æ·»åŠ  Eï¼ˆç¼–ç ï¼‰æˆ– Dï¼ˆè§£ç ï¼‰ï¼Œä¾‹å¦‚

- `${EvideoUrl}` è¡¨ç¤º videoUrl è¿›è¡Œ URL ç¼–ç åçš„å€¼
- `${DvideoUrl}` è¡¨ç¤º videoUrl è¿›è¡Œ URL è§£ç åçš„å€¼

#### 4.4. ä»£ç†è®¾ç½®

ä»…å¯¹æ²¹ç®¡å’Œå·´å“ˆå§†ç‰¹æœ‰æ•ˆï¼Œè¯·å…ˆå°è¯•ä¸è®¾ç½®ä»£ç†çš„æƒ…å†µä¸‹è§‚çœ‹

![20230225005516](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-02-25/20230225005516.webp)

> ä¸€èˆ¬æƒ…å†µå¯¹äº v2rayN æˆ– clash ç­‰ä»£ç†è½¯ä»¶ï¼Œæ‰éœ€è¦æ‰‹åŠ¨è¿›è¡Œä»£ç†è®¾ç½®

- v2rayN é»˜è®¤ï¼š`http://127.0.0.1:10809`
- clash é»˜è®¤ï¼š`http://127.0.0.1:7890`

### 5. ïˆ³  æœ¬åœ°æœåŠ¡ç«¯

ç›®å‰ä»…ä»…æ”¯æŒ`mpv`ã€‚åŸç†æ˜¯æœ¬åœ°çš„å®ˆæŠ¤è¿›ç¨‹ç›‘å¬æŸä¸ªç«¯å£ï¼Œè€Œæµè§ˆå™¨ç«¯å‘è¯¥ç«¯å£å‘é€ä¿¡æ¯ï¼Œè¯¥å®ˆæŠ¤è¿›ç¨‹å†æŒ‰ç…§ç›¸å…³ä¿¡æ¯æ‰“å¼€`mpv`ã€‚æœ¬åœ°æœåŠ¡ç«¯èƒ½å¤Ÿæä¾›æ›´æ“ä½œç³»ç»Ÿå…¼å®¹çš„è§£å†³æ–¹æ¡ˆï¼Œ**windowsç³»ç»Ÿç”¨æˆ·ä¾ç„¶æ¨èç›´æ¥ä¿®æ”¹æ³¨å†Œè¡¨**ï¼Œä¸æ¨èæ²¡æ¥è§¦è¿‡å¼€å‘çš„ç”¨æˆ·ä½¿ç”¨ï¼ˆä¸è¿‡ç”¨å°ä¼—ç³»ç»Ÿäº†ï¼Œåº”è¯¥éƒ½æŒºèƒ½æŠ˜è…¾çš„å§...ï¼‰ã€‚

#### 5.1. ä½¿ç”¨

ä¸ºä¿è¯é¡¹ç›®è¯­è¨€çš„ç»Ÿä¸€æ€§ï¼Œè¯¥æœåŠ¡ç«¯é‡‡ç”¨`node`å¼€å‘ã€‚ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://nodejs.org/en/download)ä¸‹è½½ã€‚

1. é€šè¿‡ä»¥ä¸‹ä»£ç è¿è¡ŒæœåŠ¡ç«¯
```bash
node open-mpv-d
```
ï¼ˆå¯ç”¨`nohup node open-mpv-d &`æŒ‚åœ¨åå°ã€‚ï¼‰æ ‡å‡†è¾“å‡ºçš„ç¬¬ä¸€è¡Œæ˜¾ç¤ºäº†æ­£åœ¨ç›‘å¬çš„ç«¯å£å·ï¼Œä¾‹å¦‚1234ã€‚

2. åœ¨`mpv`è®¾ç½®å¤„çš„`æ›´å¤šé€‰é¡¹`ä¸­ï¼Œå¡«å†™ä¸Šé¢è·å¾—çš„æœ¬åœ°ç›‘å¬ç«¯å£å·ï¼Œä¾‹å¦‚1234ã€‚


#### 5.2. æœåŠ¡ç«¯é…ç½®

ä¿®æ”¹`open-mpv-d.js`ä¸­çš„å…¨å±€å˜é‡ã€‚
```js
////////////////////// Variables that you can adjust ///////////////////////////
// First attempted port to listen to. If it has been in use, try the next port
// until the first available one.
const start_port = 1234;
// Automatically search when left null
const path_to_mpv = null;
/////////////////////////////////  End   ///////////////////////////////////////


## âœ… æ•ˆæœå±•ç¤º

![20230225005523](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-02-25/20230225005523.webp)

![20230225005529](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-02-25/20230225005529.webp)

![20230225005536](https://github.com/LuckyPuppy514/image/raw/main/2023/2023-02-25/20230225005536.webp)

## ğŸ‘ ç›¸å…³ä»“åº“

- [mpv](https://github.com/mpv-player/mpv) â€” mpv æ’­æ”¾å™¨
- [mpv-lazy](https://github.com/hooke007/MPV_lazy) â€” mpv æ’­æ”¾å™¨æ‡’äººç‰ˆ
- [mpv.net_CM](https://github.com/hooke007/mpv.net_CM) â€” `mpv.net` æ±‰åŒ–ç‰ˆ
- [yt-dlp](https://github.com/yt-dlp/yt-dlp) â€” è§†é¢‘ä¸‹è½½
- [Bilibili-Evolved](https://github.com/the1812/Bilibili-Evolved) - Bç«™å¢å¼ºè„šæœ¬
- [Anime4K](https://github.com/bloc97/Anime4K) â€” åŠ¨æ¼«ç”»è´¨å¢å¼º
- [bilibili-API-collect](https://github.com/SocialSisterYi/bilibili-API-collect) â€” Bç«™æ¥å£æ•´ç†
- [MPV-Play-BiliBili-Comments](https://github.com/itKelis/MPV-Play-BiliBili-Comments) â€” mpv Bç«™å¼¹å¹•è„šæœ¬
- [IPTV](https://github.com/youshandefeiyang/IPTV) â€” è‚¥ç¾Šçš„IPTVç›´æ’­æº

## ğŸ‘ ç‰¹åˆ«æ„Ÿè°¢

- è°·æ­Œæ’ä»¶ï¼š[ff2mpv](https://github.com/woodruffw/ff2mpv)

- æ²¹çŒ´è„šæœ¬ï¼š[play-with-mpv](https://greasyfork.org/zh-CN/scripts/416271-play-with-mpv)

- æ²¹çŒ´è„šæœ¬ï¼š[Bilibili-Evolved](https://github.com/the1812/Bilibili-Evolved) + [playwithmpv](https://github.com/videoanywhere/playwithmpv)

## ğŸ˜˜ å¦‚ä½•è´¡çŒ®

éå¸¸æ¬¢è¿ä½ çš„åŠ å…¥ï¼[æä¸€ä¸ª Issue](https://github.com/LuckyPuppy514/Play-With-MPV/issues/new) æˆ–è€…æäº¤ä¸€ä¸ª Pull Requestã€‚

## ğŸƒ ä½¿ç”¨è®¸å¯

[MIT](https://github.com/LuckyPuppy514/Play-With-MPV/blob/main/LICENSE) Â© LuckyPuppy514
